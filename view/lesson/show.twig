{% extends 'app/includes/template.twig' %}
{% block title %}lessons{% endblock %}

{% block body %}


<div class="jumbotron bg-light col-lg-8 mx-auto">
  <h1><i class="fab fa-leanpub"></i> View lesson</h1>
<p class="text-muted">Plese use the menu to navigate between lessons</p>
			  <ul class="nav p-2">
				 <li class="nav-item">
			    	<a class="btn btn-dark btn-circle" href="{{path_for('lesson.index')}}">
			    		<i class="fas fa-chevron-left"></i>
			    	</a>
				  </li>

				  <li>&nbsp</li><li>&nbsp</li>
				  <li class="nav-item">  
				    <a class="btn btn-dark btn-circle" href="{{path_for('lesson.edit',{lesson_id:lesson.id})}}">
				    	<i class="fas fa-pen"></i>
				    </a>
				  </li>

				  <li>&nbsp</li><li>&nbsp</li>
				  <li class="nav-item">
				    <a class="btn btn-dark btn-circle" href="#" data-toggle="modal" data-target="#myModal">
				    	<i class="fas fa-times"></i>
				    </a>
				  </li>
				</ul>

<div class="alert alert-light p-1 row">
	<div class="col-lg-3 text-center">
		<img class="mt-4" src="{{base_url('/') ~ lesson.path}}" alt="{{lesson.name}}" style="width: 120px; height: 120px; border-radius: 50%; border:6px solid #e6eeef;">
	</div>
	<div class="col-lg-8">
		<h2 class="mt-2">{{lesson.name}}</h2>
		<hr>
		<p><strong>Objectives:</strong> {{lesson.objective}}</p>
 		<p><strong>Description:</strong> {{lesson.description}}</p>
	</div>
</div>

<ul class="nav mt-5">
<li class="nav-item"> 
<a class="btn btn-dark btn-circle" href="{{path_for('lessonobjective.create',{lesson_id:lesson.id})}}">
	<i class="fas fa-plus"></i>
</a>
<li>&nbsp</li><li>&nbsp</li>
</li>
<li class="nav-item"> 
	<h4 class=""><i class="fas fa-bullseye"></i> Lesson Objectives</h4>
</li>
</ul>


<div class="list-group mt-2">
	{% if lesson.lessonobjectives.count != 0 %}
	{% for lessonobjective in lesson.lessonobjectives %}
	  <a href="{{path_for('lessonobjective.show',{lessonobjective_id : lessonobjective.id})}}" class="list-group-item list-group-item-action">
	  	<p class=" p-0 m-0"><i class="fas fa-bullseye"></i>
		    <b>E{{lessonobjective.rank}}</b>	{{lessonobjective.objective}} 
		</p>	
	  </a>
	{% endfor %}
	{% else %}
	    <div class="alert alert-light text-center p-5">
	    	There are no <strong>lesson objectives</strong> yet.
	    </div>
	{% endif %}
</div>


<ul class="nav mt-5">
<li class="nav-item"> 
<a class="btn btn-dark btn-circle" href="{{path_for('lessonword.create',{lesson_id:lesson.id})}}">
	<i class="fas fa-plus"></i>
</a>
<li>&nbsp</li><li>&nbsp</li>
</li>
<li class="nav-item"> 
	<h4 class=""><i class="fab fa-wordpress"></i> Lesson Vocabulary</h4>
</li>
</ul>


<div class="list-group mt-2">
	{% if lesson.lessonwords.count != 0 %}
	{% for lessonword in lesson.lessonwords %}
	  <a href="{{path_for('lessonword.show',{lessonword_id : lessonword.id})}}" class="list-group-item list-group-item-action">
	  	<p class=" p-0 m-0">
		    <b>{{lessonword.rank}}</b>	{{lessonword.word}} / {{lessonword.phonetic}} / {{lessonword.hanzi}}
		</p>	
	  </a>
	{% endfor %}
	{% else %}
	    <div class="alert alert-light text-center p-5">
	    	There are no <strong>lesson words</strong> yet.
	    </div>
	{% endif %}
</div>



<ul class="nav mt-5">
<li class="nav-item"> 
<a class="btn btn-dark btn-circle" href="{{path_for('lessontext.create',{lesson_id:lesson.id})}}">
	<i class="fas fa-plus"></i>
</a>
<li>&nbsp</li><li>&nbsp</li>
</li>
<li class="nav-item"> 
	<h4 class=""><i class="fab fa-leanpub"></i> Lesson Text</h4>
</li>
</ul>


<div class="list-group my-3">
	{% if lesson.lessontexts.count != 0 %}
	{% for lessontext in lesson.lessontexts %}
	  <a href="{{path_for('lessontext.show',{lessontext_id : lessontext.id})}}" class="list-group-item list-group-item-action">
	  	
	    <p class="truncate p-0 m-0"><i class="fas fa-video"></i> <b>T{{lessontext.rank}}</b> {{lessontext.title}}</p>
	  	<span class="badge btn-danger badge-pill float-right">{{lessontext.amount}}</span>	
	  </a>
	{% endfor %}
	{% else %}
	    <div class="alert alert-light text-center p-5">
	    	There are no <strong>lesson text</strong> yet.
	    </div>
	{% endif %}
</div>


<ul class="nav mt-5">
<li class="nav-item"> 
<a class="btn btn-dark btn-circle" href="{{path_for('lessonquestion.create',{lesson_id:lesson.id})}}">
	<i class="fas fa-plus"></i>
</a>
<li>&nbsp</li><li>&nbsp</li>
</li>
<li class="nav-item"> 
	<h4 class=""><i class="fas fa-question-circle"></i> Lesson Questions</h4>
</li>
</ul>


<div class="list-group mt-2">
	{% if lesson.lessonquestions.count != 0 %}
	{% for lessonquestion in lesson.lessonquestions %}
	  <a href="{{path_for('lessonquestion.show',{lessonquestion_id : lessonquestion.id})}}" class="list-group-item list-group-item-action">
	  	<p class=" p-0 m-0"><i class="fas fa-question-circle"></i>
		    <b>E{{lessonquestion.rank}}</b>	{{lessonquestion.question}} 
		</p>
	  	<span class="badge btn-danger badge-pill float-right">{{lessonquestion.amount}}</span>	
	  </a>
	{% endfor %}
	{% else %}
	    <div class="alert alert-light text-center p-5">
	    	There are no <strong>lesson questions</strong> yet.
	    </div>
	{% endif %}
</div>



<ul class="nav mt-5">
<li class="nav-item"> 
<a class="btn btn-dark btn-circle" href="{{path_for('lessonvideo.create',{lesson_id:lesson.id})}}">
	<i class="fas fa-plus"></i>
</a>
<li>&nbsp</li><li>&nbsp</li>
</li>
<li class="nav-item"> 
	<h4 class=""><i class="fas fa-video"></i> Lesson Videos</h4>
</li>
</ul>


<div class="list-group my-3">
	{% if lesson.lessonvideos.count != 0 %}
	{% for lessonvideo in lesson.lessonvideos %}
	  <a href="{{path_for('lessonvideo.show',{lessonvideo_id : lessonvideo.id})}}" class="list-group-item list-group-item-action">
	  	
	    <p class="truncate p-0 m-0"><i class="fas fa-video"></i> <b>L{{lessonvideo.lessons.id}}E{{lessonvideo.rank}}</b>	{{lessonvideo.name}}</p>
	  	<span class="badge btn-danger badge-pill float-right">{{lessonvideo.amount}}</span>	
	  </a>
	{% endfor %}
	{% else %}
	    <div class="alert alert-light text-center p-5">
	    	There are no <strong>lesson videos</strong> yet.
	    </div>
	{% endif %}
</div>


<ul class="nav mt-5">
<li class="nav-item"> 
<a class="btn btn-dark btn-circle" href="{{path_for('lessonaudio.create',{lesson_id:lesson.id})}}">
	<i class="fas fa-plus"></i>
</a>
<li>&nbsp</li><li>&nbsp</li>
</li>
<li class="nav-item"> 
	<h4 class=""><i class="fas fa-headphones-alt"></i> Lesson Audio</h4>
</li>
</ul>


<div class="list-group mt-2">
	{% if lesson.lessonaudios.count != 0 %}
	{% for lessonaudio in lesson.lessonaudios %}
	  <a href="{{path_for('lessonaudio.show',{lessonaudio_id : lessonaudio.id})}}" class="list-group-item list-group-item-action">
	  	<p class="truncate p-0 m-0"><i class="fas fa-headphones-alt"></i>
		    <b>L{{lessonaudio.lessons.id}}E{{lessonaudio.rank}}</b>	{{lessonaudio.name}} 
		</p>
	  	<span class="badge btn-danger badge-pill float-right">{{lessonaudio.amount}}</span>	
	  </a>
	{% endfor %}
	{% else %}
	    <div class="alert alert-light text-center p-5">
	    	There are no <strong>lesson audio files</strong> yet.
	    </div>
	{% endif %}
</div>


<!-- The Modal -->
<div class="modal" id="myModal">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h5 class="modal-title">Delete Confirmation</h5>
        
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        You will not be able to recover this item if you choose to delete it. 
        
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
      	<a class="btn btn-danger btn-sm" href="{{path_for('lesson.delete',{lesson_id : lesson.id})}}">Delete</a>
        <button type="button" class="btn btn-sm btn-secondary" data-dismiss="modal">Cancel</button>
      </div>

    </div>
  </div>
</div>


{% endblock %}