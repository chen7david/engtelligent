{% extends 'app/includes/template.twig' %}
{% block title %}Update New User{% endblock %}

{% block styles_hb %}
	<link rel="stylesheet" href="{{base_url()}}/includes/styles/zebra_datepicker.min.css">
{% endblock %}

{% block body %}
<div class="col-lg-8 mx-auto">
<div class="card" style="margin-top: 5%">
	<div class="card-header">
		<ul class="nav">
				 <li class="nav-item">
			    	<a class="btn btn-dark btn-circle" href="{{path_for('user.index')}}">
			    		<i class="fas fa-chevron-left"></i>
			    	</a>
				  </li>
				  <li>&nbsp</li>
				  <li class="nav-item"> 
				  	<div class="dropdown"> 
					    <a class="btn btn-dark btn-circle" data-toggle="dropdown" href="{{path_for('user.edit',{user_id : user.id})}}">
					    	<i class="fas fa-pen"></i>
					    </a>
				   	  <div class="dropdown-menu">
				   	  	<div class="dropdown-header">Contact</div>
					    <a class="dropdown-item" href="#">Email</a>
					    <a class="dropdown-item" href="#">Phone Number</a>
					    <a class="dropdown-item" href="#">Wechat</a>
					    <a class="dropdown-item" href="#">Skype</a>
					    <a class="dropdown-item" href="#">Middle name</a>
					    <a class="dropdown-item" href="#">Link 3</a>
					  </div>
					</div>
				  </li>
				   <li>&nbsp</li>
				  <li class="nav-item">
				    <a class="btn btn-danger btn-circle" href="#" data-toggle="modal" data-target="#myModal">
				    	<i class="fas fa-times"></i>
				    </a>
				  </li>
				</ul>


<div class="dropdown">
  <div class="dropdown-menu">
    <a class="dropdown-item" href="#">Link 1</a>
    <a class="dropdown-item" href="#">Link 2</a>
    <a class="dropdown-item" href="#">Link 3</a>
  </div>
</div>
	</div>
	<div class="card-body">
	<h4>Update New User</h4>
	<hr>
	<br>

	<form action="{{path_for('app.register')}}" method="post">
	<div class="row">
		<div class="form-group col-lg-4">
			<label for="username">Username</label>			
			<input class="gapex {{ errors.username ? ' is-invalid': '' }}" type="text" name="username" id="username" value="{{ old.username }}">
			{% if errors.username %}
			  <span class="invalid-feedback">{{ errors.username | first | capitalize }}</span>
			  {% else %}
			      <small class="text-muted">May only contain <b>letters</b>.</small>
			{% endif %}
		</div>
			
		<div class="form-group col-lg-4">
			<label for="email">E-mail</label>
			<input class="gapex {{ errors.email ? ' is-invalid': '' }}" type="text" name="email" id="email" value="{{ old.email }}">
			{% if errors.email %}
			  <span class="invalid-feedback">{{ errors.email | first | capitalize }}</span>
			  {% else %}
		 	  <small class="text-muted">We will <b>send you an email</b> to activate your account.</small>   
			{% endif %}
		</div>
		
		<div class="form-group col-lg-4">
			<label for="phone_number">Phone number</label>
			<input class="gapex {{ errors.phone_number ? ' is-invalid': '' }}" type="text" name="phone_number" id="phone_number" value="{{ old.phone_number }}">
			{% if errors.phone_number %}
			  <span class="invalid-feedback">{{ errors.phone_number | first | capitalize  | replace({'_': ' '}) }}</span>
			  {% else %}
			      <small class="text-muted">Must be a valid <b>mobile</b> number.</small>
			{% endif %}
		</div>

		<div class="form-group col-lg-4">
			<label for="gender">Gender</label>
			<select class="gapex {{ errors.gender ? ' is-invalid': '' }}" name="gender" id="gender" value="">
				<option></option>
				<option {{ old.gender == 'm' ? 'selected': ''}} value="m">Male (♂)</option>
				<option {{ old.gender == 'f' ? 'selected': ''}} value="f">Female (♀)</option>
			</select>
			{% if errors.gender %}
			  <span class="invalid-feedback">{{ errors.gender | first | capitalize }}</span>
			{% endif %}
		</div>

		<div class="form-group col-lg-4">
			<label for="date_of_birth">Date of brith</label>
			<input class="gapex bg-white {{ errors.date_of_birth ? ' is-invalid': '' }}" type="text" name="date_of_birth" id="datepicker" value="{{ old.date_of_birth }}">
			{% if errors.date_of_birth %}
			  <span class="text-danger">
			  	<small>{{errors.date_of_birth | first | capitalize | replace({'_': ' '})}}</small>
			  </span>
			  {% else %}
			      <small class="text-muted">When were you <b>born</b>?</small>
			{% endif %}
		</div>

		
	</div>
	<input class="btn btn-dark" type="submit" value="save">	
	</form>
	</div>		
</div>
</div>
{% endblock %}

{% block scripts_fb %}

<script src="{{base_url()}}/includes/scripts/zebra_datepicker.min.js"></script>

<script type="text/javascript">
	$('#datepicker').Zebra_DatePicker();
</script>
{% endblock %}