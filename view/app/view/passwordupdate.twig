{% extends 'app/includes/template.twig' %}
{% block title %}Password Update{% endblock %}

{% block body %}

<div class="col-lg-3 mx-auto" style="margin-top: 5%">
	<h4>Password Update</h4>
	<hr>

	<form action="{{path_for('password.update')}}" method="post">
			
		<div class="form-group">
			<label for="new_password">New Password</label>
			<input class="form-control {{ errors.new_password ? ' is-invalid': '' }}" type="password" name="new_password" id="new_password" value="{{ old.new_password }}">
			{% if errors.new_password %}
			  <span class="invalid-feedback">{{ errors.new_password | first | capitalize | replace({'_': ' '}) }}</span>
			{% endif %}
		</div>

		<div class="form-group">
			<label for="confirm_new_password">Confirm New Password</label>
			<input class="form-control {{ errors.confirm_new_password ? ' is-invalid': '' }}" type="password" name="confirm_new_password" id="confirm_new_password" value="{{ old.confirm_new_password }}">
			{% if errors.confirm_new_password %}
			  <span class="invalid-feedback">{{ errors.confirm_new_password | first | capitalize | replace({'_': ' '}) }}</span>
			{% endif %}
		</div>

		{% if errors and not errors.new_password and not errors.confirm_new_password %}
				
			<div class="form-group">
				<label for="old_password">Old Password</label>
				<input class="form-control {{ errors.old_password ? ' is-invalid': '' }}" type="password" name="old_password" id="old_password" value="{{ old.old_password }}">
				{% if errors.old_password %}
				  <span class="invalid-feedback">{{ errors.old_password | first | capitalize | replace({'_': ' '}) }}</span>
				{% endif %}
			</div>

		{% endif %}

		
		<input type="hidden" name="hash" value="{{ password.hash }}">
		<input class="btn btn-dark" type="submit" value="Submit">	

	</form>
</div>

{% endblock %}